{% extends "base_cliente.html" %}

{% block title %} WMFB - Imersões {% endblock %}



{% block content %}
    <div class="container">

        <div class="jumbotron">
            <div class="container">
                <h2>Bem vindo, {{ cliente.Nome }} </h2>
                <p class="text-justify">This is a template for a simple marketing or informational website. It includes
                    a large callout
                    called a jumbotron and three supporting pieces of content. Use it as a starting point to create
                    something more unique.</p>
            </div>
        </div>

        <form id="myForm" class="form-horizontal" method="post"> {% csrf_token %}
            <div class="row">
                <div class="col-md-4 col-md-offset-8">
                    <div class="text-right form-inline">
                        <div class="input-group">
                            {{ categoria.cat }}
                            <span class="input-group-btn">
                                <button class="btn btn-primary" type="submit" name="Categoria">+</button>
                            </span>
                        </div>
                    </div>

                </div>
            </div>
            <p></p>
            <div>
                <table class="table table-condensed table-hover table-condensed">
                    {{ formset.management_form }}
                    {% for form in formset.forms %}
                        {{ form.id }}
                        <tr>
                            <th>
                                {% if form.Nome.errors %}
                                    <div class="has-error has-feedback">
                                        <h5> {{ form.Nome }} </h5>
                                        <span class="glyphicon glyphicon-remove form-control-feedback"
                                              aria-hidden="true"></span>
                                        <span id="inputError2Status" class="sr-only">(error)</span>
                                    </div>
                                {% else %}
                                    <h5> {{ form.Nome }} </h5>
                                {% endif %}
                            </th>
                            <th>
                                {% if form.Email.errors %}
                                    <div class="has-error has-feedback">
                                        <h5> {{ form.Email }} </h5>
                                        <span class="glyphicon glyphicon-remove form-control-feedback"
                                              aria-hidden="true"></span>
                                        <span id="inputError2Status" class="sr-only">(error)</span>
                                    </div>
                                {% else %}
                                    <h5> {{ form.Email }} </h5>
                                {% endif %}
                            </th>
                            <th>
                                {% if form.Categ.errors %}
                                    <div class="has-error has-feedback">

                                        <h5> {{ form.Categ }} </h5>
                                        <span class="glyphicon glyphicon-remove form-control-feedback"
                                              aria-hidden="true"></span>
                                        <span id="inputError2Status" class="sr-only">(error)</span>

                                    </div>
                                {% else %}
                                    <h5> {{ form.Categ }} </h5>
                                {% endif %}
                            </th>
                            <th><h5> {{ form.DELETE }} </h5></th>
                            <th><h5 class="text-left"></h5></th>
                        </tr>


                    {% endfor %}

                </table>

                {% if formset.errors %}
                    <tr>
                        <div class="alert alert-danger" role="alert">
                            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                            <span class="sr-only">Error:</span>
                            Existem erros no formulário
                        </div>
                    </tr>
                {% endif %}

                <div class="form-group">
                    <div class="col-md-4 col-md-offset-8 text-right">
                        <button class="btn btn-primary" type="submit">Cadastrar Indicados</button>
                    </div>
                </div>
            </div>
        </form>
    </div>




    {% load staticfiles %}
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="{% static 'js/jquery.formset.js' %}"></script>
    <script type="text/javascript">
        $(function () {
            $('#myForm tbody tr').formset({
                prefix: '{{ formset.prefix }}',
                addText: 'Adicionar Contato',
                deleteText: '<span class="glyphicon glyphicon-trash"> </span>',
            });
        })
    </script>
{% endblock %}